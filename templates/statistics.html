{% extends "layouts/base.html" %}

{% block title %}DMR Analysis Statistics{% endblock %}

{% block content %}
  <!-- Overall Statistics Card -->
  {% include 'components/stats/overall_stats.html' %}

  <!-- Timepoints Card -->
  <div class="card mb-4">
    <div class="card-header">
      {% include 'components/stats/timepoint_tabs.html' %}
    </div>
    <div class="card-body">
      <div class="tab-content">
        {% for timepoint, data in timepoint_info.items() %}
          <div class="tab-pane fade {% if loop.first %}show active{% endif %}" 
               id="{{ timepoint }}" 
               role="tabpanel">
            {% with status=data.get('status'), message=data.get('message'), stats=data.get('stats', {}) %}
              {% include 'components/stats/timepoint_tab.html' %}
            {% endwith %}
          </div>
        {% endfor %}
      </div>
    </div>
  </div>

  <!-- Components Analysis -->
  <div class="row">
    {% include 'components/stats/interesting_components.html' %}
  </div>
{% endblock %}
