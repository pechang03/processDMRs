<div class="tab-pane fade" id="{{ timepoint }}" role="tabpanel">
  {% if data.status == "error" %}
    <div class="alert alert-danger">
      Error processing timepoint: {{ data.message }}
    </div>
  {% else %}
    <div class="row">
      <!-- Timepoint Original Graph Stats -->
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <h3>{{ timepoint }} Components</h3>
          </div>
          <div class="card-body">
            <table class="table">
              <thead>
                <tr>
                  <th>Type</th>
                  <th>Total</th>
                  <th>Single Node</th>
                  <th>Small</th>
                  <th>Interesting</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Connected</td>
                  <td>{{ data.get('stats', {}).get('components', {}).get('original', {}).get('connected', {}).get('total', 0) }}</td>
                  <td>{{ data.get('stats', {}).get('components', {}).get('original', {}).get('connected', {}).get('single_node', 0) }}</td>
                  <td>{{ data.get('stats', {}).get('components', {}).get('original', {}).get('connected', {}).get('small', 0) }}</td>
                  <td>{{ data.get('stats', {}).get('components', {}).get('original', {}).get('connected', {}).get('interesting', 0) }}</td>
                </tr>
                <tr>
                  <td>Biconnected</td>
                  <td>{{ data.get('stats', {}).get('components', {}).get('original', {}).get('biconnected', {}).get('total', 0) }}</td>
                  <td>{{ data.get('stats', {}).get('components', {}).get('original', {}).get('biconnected', {}).get('single_node', 0) }}</td>
                  <td>{{ data.get('stats', {}).get('components', {}).get('original', {}).get('biconnected', {}).get('small', 0) }}</td>
                  <td>{{ data.get('stats', {}).get('components', {}).get('original', {}).get('biconnected', {}).get('interesting', 0) }}</td>
                </tr>
                <tr>
                  <td>Triconnected</td>
                  <td>{{ data.get('stats', {}).get('components', {}).get('original', {}).get('triconnected', {}).get('total', 0) }}</td>
                  <td>{{ data.get('stats', {}).get('components', {}).get('original', {}).get('triconnected', {}).get('single_node', 0) }}</td>
                  <td>{{ data.get('stats', {}).get('components', {}).get('original', {}).get('triconnected', {}).get('small', 0) }}</td>
                  <td>{{ data.get('stats', {}).get('components', {}).get('original', {}).get('triconnected', {}).get('interesting', 0) }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Timepoint Coverage Stats -->
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <h3>{{ timepoint }} Coverage</h3>
          </div>
          <div class="card-body">
            <table class="table">
              <tbody>
                <tr>
                  <td>DMR Coverage:</td>
                  <td>
                    {{ data.stats.coverage.dmrs.covered|default(0) }}/{{ data.stats.coverage.dmrs.total|default(0) }}
                    ({{ "%.1f"|format(data.stats.coverage.dmrs.percentage|default(0) * 100) }}%)
                  </td>
                </tr>
                <tr>
                  <td>Gene Coverage:</td>
                  <td>
                    {{ data.stats.coverage.genes.covered|default(0) }}/{{ data.stats.coverage.genes.total|default(0) }}
                    ({{ "%.1f"|format(data.stats.coverage.genes.percentage|default(0) * 100) }}%)
                  </td>
                </tr>
                <tr>
                  <td>Edge Coverage:</td>
                  <td>
                    Single: {{ data.stats.coverage.edges.single_coverage|default(0) }}
                    ({{ "%.1f"|format(data.stats.coverage.edges.single_percentage|default(0) * 100) }}%)<br>
                    Multiple: {{ data.stats.coverage.edges.multiple_coverage|default(0) }}
                    ({{ "%.1f"|format(data.stats.coverage.edges.multiple_percentage|default(0) * 100) }}%)<br>
                    Uncovered: {{ data.stats.coverage.edges.uncovered|default(0) }}
                    ({{ "%.1f"|format(data.stats.coverage.edges.uncovered_percentage|default(0) * 100) }}%)
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  {% endif %}
</div>
